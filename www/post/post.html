<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas de POST</title>
</head>
<body>
    <h2>Pruebas de Envío POST al Servidor</h2>

    <!-- Formulario para x-www-form-urlencoded -->
    <h3>1️⃣ application/x-www-form-urlencoded</h3>
    <form id="postForm">
        <label for="data">Datos:</label>
        <input type="text" id="data" name="data" required>
        <button type="submit">Enviar</button>
    </form>
    <pre id="response"></pre>

    <!-- Formulario para JSON -->
    <h3>2️⃣ JSON (application/json)</h3>
    <form id="jsonForm">
        <label for="jsonData">Datos JSON:</label>
        <input type="text" id="jsonData" name="jsonData" required>
        <button type="submit">Enviar JSON</button>
    </form>
    <pre id="jsonResponse"></pre>

    <!-- Formulario para multipart/form-data (archivos) -->
    <h3>3️⃣ Subida de Archivo (multipart/form-data)</h3>
    <form id="fileForm">
        <label for="file">Seleccionar archivo:</label>
        <input type="file" id="file" name="file">
        <button type="submit">Subir Archivo</button>
    </form>
    <pre id="fileResponse"></pre>

    <!-- Formulario para text/plain -->
    <h3>4️⃣ Enviar Texto Plano (text/plain)</h3>
    <form id="textForm">
        <label for="plainText">Texto simple:</label>
        <input type="text" id="plainText" name="plainText" required>
        <button type="submit">Enviar Texto</button>
    </form>
    <pre id="textResponse"></pre>

    <!-- Nuevo formulario con todos los tipos de campos -->
    <h3>5️⃣ Formulario Completo con Todos los Campos</h3>
    <form id="fullForm">
        <label for="name">Nombre:</label>
        <input type="text" id="name" name="name" required><br>

        <label for="email">Correo:</label>
        <input type="email" id="email" name="email" required><br>

        <label for="password">Contraseña:</label>
        <input type="password" id="password" name="password" required><br>

        <label for="age">Edad:</label>
        <input type="number" id="age" name="age" min="1" max="120"><br>

        <label for="dob">Fecha de nacimiento:</label>
        <input type="date" id="dob" name="dob"><br>

        <label for="color">Color favorito:</label>
        <input type="color" id="color" name="color"><br>

        <label>Género:</label>
        <input type="radio" id="male" name="gender" value="male">
        <label for="male">Hombre</label>
        <input type="radio" id="female" name="gender" value="female">
        <label for="female">Mujer</label><br>

        <label for="interests">Intereses:</label>
        <input type="checkbox" id="sports" name="interests" value="sports">
        <label for="sports">Deportes</label>
        <input type="checkbox" id="music" name="interests" value="music">
        <label for="music">Música</label><br>

        <label for="country">País:</label>
        <select id="country" name="country">
            <option value="es">España</option>
            <option value="mx">México</option>
            <option value="ar">Argentina</option>
            <option value="us">Estados Unidos</option>
        </select><br>

        <label for="bio">Biografía:</label>
        <textarea id="bio" name="bio" rows="3"></textarea><br>

        <label for="profilePic">Foto de perfil:</label>
        <input type="file" id="profilePic" name="profilePic"><br>

        <button type="submit">Enviar Formulario Completo</button>
    </form>
    <pre id="fullResponse"></pre>

    <script>
        function sendPostRequest(url, data, contentType, responseElement) {
            fetch(url, {
                method: "POST",
                headers: contentType ? { "Content-Type": contentType } : {},
                body: data
            })
            .then(response => response.text())
            .then(text => {
                document.getElementById(responseElement).textContent = text;
            })
            .catch(error => {
                document.getElementById(responseElement).textContent = "Error: " + error;
            });
        }

        document.getElementById("postForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const data = "data=" + encodeURIComponent(document.getElementById("data").value);
            sendPostRequest("http://localhost:8080", data, "application/x-www-form-urlencoded", "response");
        });

        document.getElementById("jsonForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const jsonData = JSON.stringify({ mensaje: document.getElementById("jsonData").value });
            sendPostRequest("http://localhost:8080", jsonData, "application/json", "jsonResponse");
        });

        document.getElementById("fileForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const formData = new FormData();
            formData.append("file", document.getElementById("file").files[0]);
            sendPostRequest("http://localhost:8080", formData, null, "fileResponse");
        });

        document.getElementById("textForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const textData = document.getElementById("plainText").value;
            sendPostRequest("http://localhost:8080", textData, "text/plain", "textResponse");
        });

        document.getElementById("fullForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const formData = new FormData(document.getElementById("fullForm"));
            sendPostRequest("http://localhost:8080", formData, null, "fullResponse");
        });
    </script>
</body>
</html>